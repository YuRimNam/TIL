# 리액트의 정의
웹개발을 하다보면 한 번 쯤은 React, Veu, Angular등의 단어를 한 번 쯤은 들어보았을 것이다. 하지만 초심자들 중 이러한 단어를 들어보기만 했지, 제대로 알지 못하는 사람들은 더욱 넘쳐날 것이다. 필자 역시 그런 상황이다. 그렇기 때문에 타인, 그리고 필자에게 도움이 되고자 이 파일을 작성한다. 이 파일에서는 리액트의 정의에 대해 알아보겠다.

## 라이브러리
리액트의 정의에 대해 알아보자고 했는데, 갑자기 리액트가 아닌 **라이브러리**라는 단어가 등장해 당황한 사람이 몇 있을 것이다. 하지만 리액트의 정의에서 빠질 수 없는 부분이 바로 라이브러리다. 그 이유는 **리액트가 라이브러리이기 때문**이다. <br><br>
그렇다면, 과연 라이브러리란 무엇일까? 쉽게 설명하자면 라이브러리는 **부품 혹은 도구**와 같다. <br><br>
당신이 건물을 짓는다고 치자. 그렇다면 굉장히 많은 것들이 필요할 것이다. 건물을 짓기 전 건물 설계도가 필요할 것이고, 건물을 지을 재료(시멘트나 벽돌 등)가 필요할 것이며, 건물을 지을 환경, 도구 등이 필요할 것이다. 이 중 단 하나라도 빠지게 된다면 당신은 건물을 지을 수 없게 될 것이다. 라이브러리 얘기를 하자고 했는데, 갑자기 건물을 짓는 얘기가 왜 나올까? 그 이유는 앞서 말했듯 라이브러리가 **부품 혹은 도구**와 비슷한 개념이기 때문이다. 즉, 건물을 지을 때 라이브러리가 되는 것은 **건물의 재료, 지을 도구**가 된다는 것이다. <br><br>
그럼 이제 라이브러리의 정확한 개념을 알아보자. 라이브러리란 **단순 활용 가능한 도구들의 집합**이다. 코드를 작성하다 보면 여러 번 재사용 해야하는 코드가 작성될 때가 꽤 많이 있다. 이럴 때 우리는 어떻게 했던가? 바로 **함수**라는 기능을 사용하거나 **클래스**로 정의하여 여러 번 불러왔었다. 라이브러리도 같은 개념이다. **개발자가 만든 클래스에서 호출하여 사용, 클래스들의 나열로 필요한 클래스를 불러서 사용하는 방식을 취하고 있다.** <br><br>
라이브러리를 사용할 지 말지는 사용자의 선택에 따라 나뉜다. 즉, 사용할 수도 있고 사용하지 않을수도 있다. **굳이 라이브러리를 사용하지 않아도 된다는 소리**이다. 또한, 새로운 라이브러리를 제작한다 하더라도 **엄격한 규칙이 존재하지 않는다.** 본인이 어떻게 제작하느냐에 따라 알맞게 사용하면 된다. <br><br>
라이브러리는 전혀 먼 개념이 아니다. 만일 당신이 웹페이지를 만드는데, 페이지 상단 부분, 즉 헤더가 여러 번 사용되어 재사용하기 쉽게 css 파일을 따로 빼 둔 상태로 만들어 놨다면, **이 또한 라이브러리가 되는 셈이다.** 또한, 우리가 흔히 사용하는 `jQuery`역시 JavaScript의 유명한 라이브러리이다.

## 프레임워크와 아키텍쳐, 플랫폼
라이브러리의 개념이 확실하게 잡혔는가? 그렇다면 이제 프레임워크와 아키텍쳐, 플랫폼에 대해 알아보도록 하자. 리액트에 대해 알아보자고 했더니, 자꾸 다른 개념만 설명하는 것 같아 이상하게 느껴지는 사람도 있을 것이다. 하지만 라이브러리와 프레임워크, 아키텍쳐, 플랫폼은 긴밀히 연결되어 있다. 알아둬서 나쁠 건 없으니 알아보도록 하자.

### 프레임워크
라이브러리라는 개념을 겨우 알고 왔더니 프레임워크란 개념이 등장했다. 프레임워크는 라이브러리와 대조되어 자주 설명되는 개념 중 하나이다. 얼핏 보면 비슷해보이고, 별 차이점이 없어 보이기에 라이브러리와 프레임워크를 착각하는 사람이 많다. 하지만 이 둘은 엄연히 다른 개념이다. 우선, **프레임워크가 무엇인지**에 대해 알아보자. <br><br>
위에서 필자는 라이브러리를 **건물을 지을 때 사용되는 재료와 도구**라고 설명했다. 쉽게 생각하자면, 프레임워크는 **건물의 뼈대**와 같다고 생각하면 편하다.<br><br>
그렇다면, 프레임워크의 정의로 넘어가보자. 프레임워크란, **원하는 기능 구현에만 집중하여 빠르게 개발 할 수 있도록 기본적으로 필요한 기능을 갖추고 있는 것으로, 위에서 설명한 라이브러리가 포함되어 있다.** 프레임워크는 라이브러리와 다르게 **프레임워크가 정의한 규칙을 준수해야 한다.** 즉, 규칙에 맞게 사용해야 한다는 소리이다. 그렇다면, 우리는 왜 프레임워크를 쓰는걸까? <br><br>
다시 건물을 짓는 시점으로 돌아가보자. 우리는 왜 굳이 뼈대를 세운 후 건물을 짓는 것일까? 그것은 세우지 않은 때보다 더욱 **안전하고, 빠르며, 어느 한 부분이 잘못되더라도 빠르게 되돌아갈 수 있기 떼문**이다. 토대가 이미 완성되어 있기 때문이다. 우리가 프레임워크를 쓰는 이유도 이것과 유사하다. <br><br>

#### 프레임워크를 사용하는 이유
1. 효율성
   - 비워져있는 코드를 채워넣는 것 보다는, 이미 짜여져 있는 코드에 내 입맛대로 무언가를 더 추가하는 것이 시간이 덜 들지 않는가? 이처럼, **프레임워크를 사용하게 되면 시간과 비용이 훨씬 절약되며 생산성이 좋아진다.**
   - *0에서부터 시작하는 것보단, 누군가가 도와줘 5에서부터 시작하는게 더 좋기 마련이다.*
2. 안전성
   - 당신은 당신의 코드에 대해 얼마나 자부심을 가지고 있는가? 아무리 당신이 프로그래밍을 잘 한다 하더라도 오류 한 번 쯤은 나기 마련이다. 하지만 **프레임워크는 다수의 개발자가 사용하며 수정을 하니 자연스럽게 코드의 안전성이 높아지는 것이다.**
   - *당신이 처음 짠 코드를 믿는가, 혹은 다수의 개발자가 여러 번 검증한 코드를 믿는가?*
3. 유지 보수
   - 당신이 회사의 사장이라고 치자. 한 사람이 프레임워크를 사용하지 않고 회사 공식 페이지를 개발하다가 갑작스레 퇴사를 해 버렸다. 그렇다면 인원을 충당해야 하는데, 이렇게 된다면 그 사람이 개발한 코드를 새 인원이 분석 후 개발을 해야 하기에 시간이 오래 든다. 하지만 프레임워크를 사용한다면 **코드가 보다 체계적이고 개발 담당자가 바뀌더라도 위험 부담을 줄일 수 있으며 유지보수에 안정적이다.**
   - *혼자만 알고 있는 것보단 여럿이서 알고 공유하는게 낫다.*

#### 프레임워크 vs 라이브러리

> 그렇다면, 프레임워크의 정의로 넘어가보자. 프레임워크란, 원하는 기능 구현에만 집중하여 빠르게 개발 할 수 있도록 기본적으로 필요한 기능을 갖추고 있는 것으로, 위에서 설명한 라이브러리가 포함되어 있다.

필자는 방금 전 프레임워크를 설명할 때, 이렇게 설명했다. 라이브러리가 프레임워크 안에 포함되어 있다고 했는데, 그렇다면 대체 둘 사이에 무슨 차이점이 있는 것일까? <br><br>
포인트는 **제어의 흐름**이다. 쉽게, 아주 쉽게 설명하자면 **내가 불려지면 프레임워크, 내가 부르면 라이브러리**이다.<br><br>
프레임워크의 전체적인 흐름은 프레임워크가 쥐고 있으며, 사용자는 개발을 하며 그 내부에 스스로 코드를 작성한다. 이와 같은 경우엔, **전체적인 흐름이 프레임워크에 있다가 흐름이 일시적으로 사용자에게로 넘어가게 된다.** 반대로 라이브러리는 사용자가 코드를 작성하다 하나의 라이브러리가 필요하다면 그 라이브러리를 가져오게 된다. 이는 **순간의 흐름이 사용자에게서 라이브러리로 넘겨지게 된 것이다.** <br> 즉, <u>라이브러리는 라이브러리를 가져다 사용하고 호출하는 사용자의 측에 흐름이 전적으로 넘겨져 있지만, 프레임워크는 프레임워크의 흐름 안에 사용자의 흐름이 내포되어 있는 것이다.</u>

### 아키텍쳐
이제 프레임워크와 라이브러리에 대해 알았으니 아키텍쳐에 대해 알아보도록 하자. <br><br>
개념을 쉽게 이해하기 위해 다시 건물로 돌아가보자. 건물의 뼈대는 프레임워크, 재료 및 도구는 라이브러리라고 했다. 그렇다면 아키텍쳐는 **건물의 설계도**와 같은 개념이다. <br>
보통 건물의 설계도에는 무엇이 들어가 있을까? 대략적인 모습과 구조, 사용 재료 등이 들어가 있다. 아키텍쳐 역시 마찬가지다. **기획한 내용을 프로그램화 했을 경우, 필요한 주요 특징을 기술적으로 설계하고 명시하는 것**이다. 보통 **아키텍쳐는 결과물에 필요한 모든 구성 요소를 명시하지만, 구체적인 구현 방법은 포함되어 있지 않다.** 예를 들어, 건물을 지을 때 이 곳에 문을 달아놓는다고 명시를 해 놨지만 어떤 방식으로 달 것인지, 미닫이 문인지 등은 명시되어 있지 않다. 물론 필요에 따라 포함이 될 수도 있다.

### 플랫폼
모두들 한 번 쯤은 플랫폼이라는 단어는 들어봤을 것이다. 하지만, 플랫폼이라는 단어가 너무나도 광범위하게 사용되어 개념이 모호한 사람들이 많을 것이다. 쉽게 설명하자면 플랫폼은 하나의 **시장**, 혹은 **환경**이다. <br>
우리가 건물을 지을 때, 가장 필요한 것은 무엇일까? 바로 건물을 지을 장소이다. 아무리 멋진 설계도가 있고 최첨단 도구와 재료가 있다고 하더라도, 건물을 지을 터가 없다면 모두 말짱 도로묵이다. 그렇다면 이곳에 플랫폼의 개념을 대입하면 어떻게 될까? **건물을 지을 터가 바로 플랫폼이 된다.** <br>
즉, 플랫폼이란 **프로그램이 실행되는 환경**인 것이다. 플랫폼은 플랫폼 위에 다른 플랫폼에 존재할 수 있다. 만일 내가 Windows 운영체제에서 JavaScript로 개발을 하고 있다면, 이미 2개의 플랫폼을 동시에 사용하는 셈이 되는 것이다. 

## 리액트란?
이제 드디어 리액트가 무엇인지 알아보도록 하자. 리액트는 **페이스북**에서 개발한 JavaScript 기반의 UI 라이브러리로서, 개발자로 하여금 재사용 가능한 UI를 생성할 수 있게 해준다. 이게 무슨 소리냐 하면, **사용자와 컴퓨터가 정보를 주고받기 위해 사용자와 프로그램이 상호 작용하는 프로그램의 일부분을 개발자가 생성할 수 있도록 하게 해주는 라이브러리란 소리다.** <br>
더욱 쉽게 설명하자면, 집을 지을 때 집에 살게 될 사람들을 고려해 방, 화장실, 부엌, 거실 등을 효율적으로 배치하고 살기 좋은 공간을 만드려고 할 때 그것을 개발자가 만들수 있게 해주는 라이브러리란 소리다. <br>
즉, 이러한 사실로 인해 리액트는 **뷰에 상당히 집중을 하고 있다는 것을 알 수 있다.** 실제로, 리액트는 **뷰에만 집중을 하고 있고, 라우터, 상태 관리를 위해선 써드파티 라이브러리(제 3자가 만든, 개인 개발자나 프로젝트 팀, 혹은 업체 등에서 개발한 라이브러리)를 사용해야 한다.**라고 명시되어 있다. 이 외에 리액트의 특징은 무엇이 있을까?

### 가상 DOM
리액트는 가상 DOM, 즉 Virtual DOM을 사용한다. DOM에 대한 설명은 https://github.com/milkyway002/sinabro/blob/master/TIL/%EA%B0%9D%EC%B2%B4_TIL.md 에 명시되어 있다. 하지만 DOM은 치명적인 문제점을 하나 가지고 있다. 그것은 바로 **동적 UI에 최적화 되어있지 않다는 것**이다. 애초부터 HTML은 **정적**이기 때문이다. 당연하게도 이 문제는 `JavaScript`나 `jQuery`로 해결할 수 있지만, 규모가 큰 웹 어플리케이션(네이버, 트위터, 페이스북…)에서 사용하다 보면 성능상의 문제가 생기게 된다. <br>
물론 DOM자체의 속도가 느리다는 것은 아니다. **DOM 자체는 빠르다.** 다만 매번 브라우저에서 DOM 간의 변화가 일어나면 CSS를 다시 연산하고, 레이아웃을 구성하며, 웹 페이지를 리페인트(repaint)를 해야 하는데, 이 과정에서 허비되는 시간이 규모가 크면 클 수록 더욱 많아지는 문제가 생긴다. 규모가 클 수록 그만큼 가져와야 할 `Element`의 양도 많기 때문이다. <br>

>repaint란 HTML과 DOM 사이에서 전체, 혹은 일부 영역의 스타일이 변경되었을 때 브라우저에 변경된 스타일을 다시 적용하는 작업을 말한다. repaint와 뗄 수 없는 관계에 있는 것이 reflow인 것인데, reflow는 HTML의 문서를 구성하는 요소의 크기나 위치가 변경되었을 때 각각의 요소를 재배치 하는 작업을 말한다. 요소의 위치, 크기 등이 변경되지 않더라도 DOM의 값을 읽는 것 자체만으로도 reflow가 계산될 때가 있다. 그렇기 때문에 개발자들은 보통 짧은 시간에 reflow가 여러번 발생하는 상황이 만들어진다면 성능 저하를 방지하기 위해 이 작업들을 미루고 한꺼번에 처리한다. 즉, 최적화 작업을 한다. 다만 최적화 작업을 하지 못할 때가 있는데, 그것이 바로 현재의 값을 가져오는 것들이다. 예시로 `getElementById()`의 연산 등이 있다. 
<br>

이러한 문제들을 해결하려면 어떻게 해야할까? DOM을 사용하려면 피할 수 없고 직면해야 할 문제들이다. 손을 대지 말자니 성능 저하가 문제고, 그렇다고 손을 대자니 방법이 떠오르지 않는것이 당연하다. 그렇다면 필자가 방법 한 가지를 내놓도록 하겠다. **이 모든 DOM 작업들을 가상화 하여 미리 처리한 다음, 한꺼번에 적용한다면 어떻게 될까? 성능 저하 문제가 해결되지 않을까?** 우리는 이 성능 저하의 늪에서 빠져나올 방법으로 아주 좋은 것을 가져올 수 있다. 바로 *Virual DOM*이다.
<br><br>
Virual DOM, 즉 가상 DOM을 사용하면 **실제 DOM에 접근하여 매번 이벤트가 발생할 때마다 조작하는 대신에 이를 추상화 시킨 자바스크립트 객체를 구성하여 사용**한다. 실제 DOM의 사본이라고 봐도 무관하다. <br>
리액트에서 DOM이 작동될 상황이 생기게 되면, 아래의 3가지의 절차를 밟은 후 DOM이 적용되게 된다.
1. 데이터가 업데이트 되면, 전체 UI를 가상 DOM에 리렌더링 한다.
2. 이전 가상 DOM에 있던 내용과 현재의 내용을 비교한다.
3. 바뀐 부분만 실제 DOM에 적용한다.
<br>
이와 같은 절차를 밟게 된다면 무슨 일이 일어나게 될까? **가상 DOM을 사용하지 않은 경우에는 매 번 여러 개의 데이터가 업데이트 될 때마다 각 데이터에 대응하도록 레이아웃 계산이 여러 번 이뤄지게 되지만, 가상 DOM을 사용한다면 컴포넌트가 업데이트 될 때 단 한 번의 레이아웃 계산이 이루어진다.** <br>
하지만 가상 DOM을 사용한다고 해서 무조건 속도가 빠르다는 것은 아니다. 실제 리액트 메뉴얼에는 다음과 같은 문장이 나타나있다.

> 우리는 다음 문제를 해결하기 위해 React를 만들었습니다: 지속해서 데이터가 변화하는 대규모 애플리케이션을 구축하기.
<br>
이 말이 의미하는 바는 무엇일까? 바로 **적절한 곳에 리액트를 사용해야 그 진가를 발휘한다는 내용**이다. 즉, 쓸 때 쓰고 알아서 적절히 판단하라는 소리이다. 굳이 리액트를 사용하지 않더라도 코드 최적화를 열심히 한다면 성능 저하 문제를 해결할 수도 있고, 간단한 웹 페이지 혹은 작업같은 경우에는 오히려 리액트를 사용하는 것이 잘못된 판단일수도 있다.  

### JSX
리액트에서 우리는 익숙하지만 처음 보는 문법을 볼 수 있을 것이다. 바로 `JSX`라는 녀석이다. JSX는 JavaScript XML의 줄임말로, 이름만 보면 알 수 있듯 **JavaScript의 확장 문법**이다. 리액트가 JavaScript 문법 기반의 라이브러리라는 것은 이미 리액트를 처음 소개할 때 언급한 부분이다. 그렇기 때문에, 우리는 리액트를 사용하려면 **DOM 요소들을 JavaScript 문법 형식으로 짜야 한다.** 하지만 이는 좀 무리가 있지 않은가? 번거로울 뿐더러 코드도 길어지고, 가독성도 떨어진다. 그렇기 때문에 JavaScript를 XML과 비슷한 형태로 사용할 수 있도록 해준 문법이 JSX이다. 소개만 들어도 알겠지만, JSX는 리액트에서 사용하기 위해 만들어진 문법이다. 물론 이는 권장사항이 아니다. 사용하지 않으면 피곤해지고 힘들어질 뿐이다.

> 

### Componets (컴포넌트)